<mat-sidenav-container fullscreen>

  <mat-sidenav #sidenav mode="over" opened=false>
    <mat-toolbar color="accent">Menu</mat-toolbar>
    <mat-list>
      <mat-list-item class="toolbar-item"><mat-icon color="accent">house</mat-icon> <a routerLink="/home">Home</a></mat-list-item>
      <mat-list-item class="toolbar-item"><mat-icon color="accent">reorder</mat-icon><a routerLink="/my-orders">Pedidos</a></mat-list-item>
      <mat-list-item class="toolbar-item"><mat-icon color="accent">store</mat-icon><a routerLink="/new-shop">Estabelecimento</a></mat-list-item>
      <mat-list-item class="toolbar-item"><mat-icon color="accent">store</mat-icon><a routerLink="/carrinho">Carrinho</a></mat-list-item>
    </mat-list>

  </mat-sidenav>

  <mat-sidenav-content>

    <mat-toolbar color="accent">
      <button (click)="sidenav.toggle()" aria-label="Example icon-button with menu icon" class="example-icon"
              mat-icon-button>
        <mat-icon>menu</mat-icon>
      </button>
      <span>Pedidos</span>
      <span class="example-spacer"></span>
      <button (click)="goBack()" mat-icon-button>
        <mat-icon>arrow_back</mat-icon>
      </button>

    </mat-toolbar>

    <section class="main">
      <ul>
        <li *ngFor="let order of (orders$ | async)">
          <a routerLink="/detail/{{order.id}}">
            <div class="order-container">
              <div class="order-container__header">
                <span class="order-container__header__title">Pedido: {{order.id}}</span>
                <mat-progress-bar mode="determinate" value="{{getProgressValue(order)}}"></mat-progress-bar>
                <mat-divider></mat-divider>
              </div>
              <mat-divider></mat-divider>


              <div class="grid">
                <div class="grid__left-tile">
                  <div>
                    <span style="font-weight: bold">Status: </span>
                    {{getOrderStatus(order)}}
                  </div>
                  <div>
                    <span style="font-weight: bold">Loja: </span>
                    {{order.shopName}}
                  </div>
                  <div>
                    <span style="font-weight: bold">Entregar em: </span>
                    {{order.deliveryLocation.address}}
                  </div>
                  <div>
                    <span style="font-weight: bold">Valor: </span>
                    R${{getOrderCost(order)}}
                  </div>
                </div>
                <mat-divider vertical="true"></mat-divider>
                <div class="grid__right-tile">

                  <div *ngIf="order.status != 'FINISHED'; else finishedOrder">
                    <div style="font-weight: bold">Chega em:</div>
                    <div class="grid__right-tile__estimatedTime">
                      {{getEstimatedMinutes(order)}} min.
                    </div>
                  </div>
                  <ng-template #finishedOrder>
                    <div style="font-weight: bold">Pedido</div>
                    <div style="font-weight: bold">entregue</div>
                  </ng-template>


                </div>
              </div>

            </div>
          </a>
        </li>
      </ul>
    </section>


  </mat-sidenav-content>
</mat-sidenav-container>
